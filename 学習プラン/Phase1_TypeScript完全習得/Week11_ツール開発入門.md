# Week 11: ãƒ„ãƒ¼ãƒ«é–‹ç™ºå…¥é–€

## ğŸ“… å­¦ç¿’æœŸé–“ãƒ»ç›®æ¨™

**æœŸé–“**: Week 11ï¼ˆ7æ—¥é–“ï¼‰  
**ç·å­¦ç¿’æ™‚é–“**: 12æ™‚é–“ï¼ˆå¹³æ—¥1.5æ™‚é–“ã€é€±æœ«3æ™‚é–“ï¼‰  
**å­¦ç¿’ã‚¹ã‚¿ã‚¤ãƒ«**: ç†è«–30% + å®Ÿè·µã‚³ãƒ¼ãƒ‰50% + æ¼”ç¿’20%

### ğŸ¯ Week 11 åˆ°é”ç›®æ¨™

- [ ] ESLint ãƒ«ãƒ¼ãƒ«ã®è¨­å®šã¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
- [ ] ç°¡å˜ãªé–‹ç™ºãƒ„ãƒ¼ãƒ«ã®ä½œæˆ
- [ ] TypeScript Compiler API ã®åŸºç¤ç†è§£
- [ ] è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè£…
- [ ] é–‹ç™ºåŠ¹ç‡å‘ä¸Šãƒ„ãƒ¼ãƒ«ã®æ§‹ç¯‰

## ğŸ“š ç†è«–å­¦ç¿’å†…å®¹

### Day 1-2: ESLintè¨­å®šã¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

#### ğŸ” TypeScriptç”¨ESLintè¨­å®š

```typescript
// .eslintrc.js
module.exports = {
  parser: '@typescript-eslint/parser',
  parserOptions: {
    ecmaVersion: 2020,
    sourceType: 'module',
    project: './tsconfig.json',
  },
  plugins: ['@typescript-eslint'],
  extends: [
    'eslint:recommended',
    '@typescript-eslint/recommended',
    '@typescript-eslint/recommended-requiring-type-checking',
  ],
  rules: {
    '@typescript-eslint/no-unused-vars': 'error',
    '@typescript-eslint/no-explicit-any': 'warn',
    '@typescript-eslint/explicit-function-return-type': 'error',
    '@typescript-eslint/naming-convention': [
      'error',
      {
        selector: 'interface',
        format: ['PascalCase'],
      },
      {
        selector: 'typeAlias',
        format: ['PascalCase'],
      },
    ],
  },
};
```

#### ğŸ¯ ã‚«ã‚¹ã‚¿ãƒ ESLintãƒ«ãƒ¼ãƒ«ã®ä½œæˆ

```typescript
// eslint-rules/no-any-type.js
module.exports = {
  meta: {
    type: 'problem',
    docs: {
      description: 'Disallow usage of any type',
      category: 'TypeScript',
      recommended: true,
    },
    messages: {
      noAnyType: 'Using "any" type is not allowed. Please use a more specific type.',
    },
  },
  
  create(context) {
    return {
      TSAnyKeyword(node) {
        context.report({
          node,
          messageId: 'noAnyType',
        });
      },
    };
  },
};
```

### Day 3-4: é–‹ç™ºãƒ„ãƒ¼ãƒ«ã®ä½œæˆ

#### ğŸ”§ å‹å®šç¾©ç”Ÿæˆãƒ„ãƒ¼ãƒ«

```typescript
// tools/type-generator.ts
import * as fs from 'fs';
import * as path from 'path';

interface ApiEndpoint {
  method: string;
  path: string;
  requestBody?: any;
  responseBody: any;
  description?: string;
}

class TypeScriptGenerator {
  private output: string[] = [];

  generateTypes(spec: { endpoints: Record<string, ApiEndpoint> }): string {
    this.output = [];
    
    // ãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆ
    this.output.push('// Generated TypeScript types');
    this.output.push('// Do not edit this file manually');
    this.output.push('');

    // APIå‹ã®ç”Ÿæˆ
    this.output.push('export namespace API {');
    
    for (const [endpointName, endpoint] of Object.entries(spec.endpoints)) {
      this.generateEndpointTypes(endpointName, endpoint);
    }
    
    this.output.push('}');

    return this.output.join('\n');
  }

  private generateEndpointTypes(name: string, endpoint: ApiEndpoint): void {
    const capitalizedName = this.capitalize(name);
    
    this.output.push(`  export namespace ${capitalizedName} {`);
    
    if (endpoint.requestBody) {
      this.output.push('    export interface Request {');
      this.generateObjectProperties(endpoint.requestBody, 6);
      this.output.push('    }');
    }

    this.output.push('    export interface Response {');
    this.generateObjectProperties(endpoint.responseBody, 6);
    this.output.push('    }');
    this.output.push('  }');
  }

  private generateObjectProperties(obj: any, indent: number): void {
    const spaces = ' '.repeat(indent);
    for (const [propName, propSpec] of Object.entries(obj.properties || {})) {
      const type = this.getTypeString(propSpec);
      this.output.push(`${spaces}${propName}: ${type};`);
    }
  }

  private getTypeString(spec: any): string {
    switch (spec.type) {
      case 'string': return 'string';
      case 'number': return 'number';
      case 'boolean': return 'boolean';
      case 'array': return `${this.getTypeString(spec.items)}[]`;
      default: return 'unknown';
    }
  }

  private capitalize(str: string): string {
    return str.charAt(0).toUpperCase() + str.slice(1);
  }
}

// ä½¿ç”¨ä¾‹
const generator = new TypeScriptGenerator();
const spec = {
  endpoints: {
    getUser: {
      method: 'GET',
      path: '/users/:id',
      responseBody: {
        properties: {
          id: { type: 'number' },
          name: { type: 'string' },
          email: { type: 'string' }
        }
      }
    }
  }
};

const types = generator.generateTypes(spec);
console.log(types);
```

### Day 5-7: TypeScript Compiler API

#### ğŸ”§ ASTæ“ä½œã®åŸºç¤

```typescript
// tools/ast-transformer.ts
import * as ts from 'typescript';

class ASTTransformer {
  transformFile(fileName: string): string {
    const program = ts.createProgram([fileName], {});
    const sourceFile = program.getSourceFile(fileName);
    
    if (!sourceFile) {
      throw new Error(`File not found: ${fileName}`);
    }

    const transformer: ts.TransformerFactory<ts.SourceFile> = (context) => {
      return (sourceFile) => {
        const visitor = (node: ts.Node): ts.Node => {
          // console.logæ–‡ã‚’å‰Šé™¤
          if (ts.isCallExpression(node) && 
              ts.isPropertyAccessExpression(node.expression) &&
              ts.isIdentifier(node.expression.expression) &&
              node.expression.expression.text === 'console') {
            return ts.factory.createEmptyStatement();
          }
          
          return ts.visitEachChild(node, visitor, context);
        };
        
        return ts.visitNode(sourceFile, visitor);
      };
    };

    const result = ts.transform(sourceFile, [transformer]);
    const printer = ts.createPrinter();
    
    return printer.printFile(result.transformed[0]);
  }

  analyzeFile(fileName: string): {
    functions: string[];
    classes: string[];
    interfaces: string[];
  } {
    const program = ts.createProgram([fileName], {});
    const sourceFile = program.getSourceFile(fileName);
    
    if (!sourceFile) {
      throw new Error(`File not found: ${fileName}`);
    }

    const analysis = {
      functions: [] as string[],
      classes: [] as string[],
      interfaces: [] as string[],
    };

    const visit = (node: ts.Node): void => {
      if (ts.isFunctionDeclaration(node) && node.name) {
        analysis.functions.push(node.name.text);
      } else if (ts.isClassDeclaration(node) && node.name) {
        analysis.classes.push(node.name.text);
      } else if (ts.isInterfaceDeclaration(node)) {
        analysis.interfaces.push(node.name.text);
      }
      
      ts.forEachChild(node, visit);
    };

    visit(sourceFile);
    return analysis;
  }
}

// ä½¿ç”¨ä¾‹
const transformer = new ASTTransformer();

// ãƒ•ã‚¡ã‚¤ãƒ«åˆ†æ
const analysis = transformer.analyzeFile('./src/example.ts');
console.log('Functions:', analysis.functions);
console.log('Classes:', analysis.classes);
console.log('Interfaces:', analysis.interfaces);

// ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›
const transformed = transformer.transformFile('./src/example.ts');
console.log('Transformed code:', transformed);
```

#### ğŸ¯ è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```typescript
// tools/project-automation.ts
import * as fs from 'fs';
import * as path from 'path';
import { execSync } from 'child_process';

class ProjectAutomation {
  // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–
  initProject(projectName: string, template: 'library' | 'api' | 'frontend'): void {
    const projectPath = path.join(process.cwd(), projectName);
    
    if (fs.existsSync(projectPath)) {
      throw new Error(`Project ${projectName} already exists`);
    }

    fs.mkdirSync(projectPath, { recursive: true });
    process.chdir(projectPath);

    // package.jsonä½œæˆ
    const packageJson = {
      name: projectName,
      version: '1.0.0',
      description: '',
      main: 'dist/index.js',
      types: 'dist/index.d.ts',
      scripts: this.getScripts(template),
      devDependencies: this.getDevDependencies(template),
      dependencies: this.getDependencies(template),
    };

    fs.writeFileSync('package.json', JSON.stringify(packageJson, null, 2));

    // TypeScriptè¨­å®š
    this.createTsConfig(template);
    
    // ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ä½œæˆ
    this.createDirectoryStructure(template);
    
    // åˆæœŸãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
    this.createInitialFiles(template);

    console.log(`âœ… Project ${projectName} created successfully!`);
    console.log('Next steps:');
    console.log(`  cd ${projectName}`);
    console.log('  npm install');
    console.log('  npm run build');
  }

  private getScripts(template: string): Record<string, string> {
    const baseScripts = {
      build: 'tsc',
      'build:watch': 'tsc --watch',
      test: 'jest',
      'test:watch': 'jest --watch',
      lint: 'eslint src/**/*.ts',
      'lint:fix': 'eslint src/**/*.ts --fix',
    };

    if (template === 'api') {
      return {
        ...baseScripts,
        start: 'node dist/server.js',
        dev: 'ts-node src/server.ts',
      };
    }

    return baseScripts;
  }

  private getDevDependencies(template: string): Record<string, string> {
    const base = {
      'typescript': '^5.0.0',
      '@types/node': '^20.0.0',
      'jest': '^29.0.0',
      'ts-jest': '^29.0.0',
      '@types/jest': '^29.0.0',
      'eslint': '^8.0.0',
      '@typescript-eslint/parser': '^6.0.0',
      '@typescript-eslint/eslint-plugin': '^6.0.0',
    };

    if (template === 'api') {
      return {
        ...base,
        'ts-node': '^10.0.0',
        'nodemon': '^3.0.0',
        '@types/express': '^4.17.0',
        'supertest': '^6.0.0',
        '@types/supertest': '^2.0.0',
      };
    }

    return base;
  }

  private getDependencies(template: string): Record<string, string> {
    if (template === 'api') {
      return {
        'express': '^4.18.0',
        'cors': '^2.8.0',
        'helmet': '^7.0.0',
      };
    }

    return {};
  }

  private createTsConfig(template: string): void {
    const tsConfig = {
      compilerOptions: {
        target: 'ES2020',
        module: 'commonjs',
        lib: ['ES2020'],
        outDir: './dist',
        rootDir: './src',
        strict: true,
        esModuleInterop: true,
        skipLibCheck: true,
        forceConsistentCasingInFileNames: true,
        declaration: true,
        declarationMap: true,
        sourceMap: true,
      },
      include: ['src/**/*'],
      exclude: ['node_modules', 'dist', 'tests'],
    };

    fs.writeFileSync('tsconfig.json', JSON.stringify(tsConfig, null, 2));
  }

  private createDirectoryStructure(template: string): void {
    const dirs = ['src', 'tests', 'dist'];
    
    if (template === 'api') {
      dirs.push('src/routes', 'src/controllers', 'src/middleware', 'src/types');
    } else if (template === 'library') {
      dirs.push('src/lib', 'src/types');
    }

    dirs.forEach(dir => {
      fs.mkdirSync(dir, { recursive: true });
    });
  }

  private createInitialFiles(template: string): void {
    if (template === 'library') {
      fs.writeFileSync('src/index.ts', `// Library entry point
export * from './lib';
`);
      fs.writeFileSync('src/lib/index.ts', `// Library implementation
export function hello(name: string): string {
  return \`Hello, \${name}!\`;
}
`);
    } else if (template === 'api') {
      fs.writeFileSync('src/server.ts', `import express from 'express';

const app = express();
const PORT = process.env.PORT || 3000;

app.use(express.json());

app.get('/', (req, res) => {
  res.json({ message: 'Hello, TypeScript API!' });
});

app.listen(PORT, () => {
  console.log(\`Server running on port \${PORT}\`);
});
`);
    }

    // READMEä½œæˆ
    fs.writeFileSync('README.md', `# ${path.basename(process.cwd())}

## Installation

\`\`\`bash
npm install
\`\`\`

## Development

\`\`\`bash
npm run build
npm test
\`\`\`
`);

    // .gitignoreä½œæˆ
    fs.writeFileSync('.gitignore', `node_modules/
dist/
coverage/
*.log
.env
.DS_Store
`);
  }

  // ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
  checkCodeQuality(directory: string = './src'): void {
    console.log('ğŸ” Running code quality checks...');
    
    try {
      // TypeScript ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãƒã‚§ãƒƒã‚¯
      execSync('npx tsc --noEmit', { stdio: 'inherit' });
      console.log('âœ… TypeScript compilation check passed');
      
      // ESLint ãƒã‚§ãƒƒã‚¯
      execSync(`npx eslint ${directory}/**/*.ts`, { stdio: 'inherit' });
      console.log('âœ… ESLint check passed');
      
      // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
      execSync('npm test', { stdio: 'inherit' });
      console.log('âœ… Tests passed');
      
    } catch (error) {
      console.error('âŒ Code quality check failed');
      process.exit(1);
    }
  }

  // ä¾å­˜é–¢ä¿‚æ›´æ–°
  updateDependencies(): void {
    console.log('ğŸ“¦ Updating dependencies...');
    
    try {
      execSync('npm update', { stdio: 'inherit' });
      execSync('npm audit fix', { stdio: 'inherit' });
      console.log('âœ… Dependencies updated successfully');
    } catch (error) {
      console.error('âŒ Failed to update dependencies');
    }
  }
}

// CLIå®Ÿè¡Œ
if (require.main === module) {
  const automation = new ProjectAutomation();
  const [command, ...args] = process.argv.slice(2);

  switch (command) {
    case 'init':
      const [projectName, template = 'library'] = args;
      automation.initProject(projectName, template as any);
      break;
    case 'check':
      automation.checkCodeQuality();
      break;
    case 'update':
      automation.updateDependencies();
      break;
    default:
      console.log('Usage:');
      console.log('  init <project-name> [template]  - Initialize new project');
      console.log('  check                           - Run code quality checks');
      console.log('  update                          - Update dependencies');
  }
}

export { ProjectAutomation };
```

## ğŸ“Š Week 11 è©•ä¾¡åŸºæº–

### ç†è§£åº¦ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

#### ESLintè¨­å®š (25%)
- [ ] TypeScriptç”¨ESLintè¨­å®šã‚’ç†è§£ã—ã¦ã„ã‚‹
- [ ] ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã§ãã‚‹
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é©ã—ãŸè¨­å®šãŒã§ãã‚‹
- [ ] ã‚³ãƒ¼ãƒ‰å“è³ªã®è‡ªå‹•ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè£…ã§ãã‚‹

#### é–‹ç™ºãƒ„ãƒ¼ãƒ«ä½œæˆ (30%)
- [ ] å‹å®šç¾©ç”Ÿæˆãƒ„ãƒ¼ãƒ«ã‚’ä½œæˆã§ãã‚‹
- [ ] ã‚³ãƒ¼ãƒ‰åˆ†æãƒ„ãƒ¼ãƒ«ã‚’å®Ÿè£…ã§ãã‚‹
- [ ] è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆã§ãã‚‹
- [ ] å®Ÿç”¨çš„ãªãƒ„ãƒ¼ãƒ«ã‚’è¨­è¨ˆã§ãã‚‹

#### Compiler API (25%)
- [ ] TypeScript Compiler APIã®åŸºç¤ã‚’ç†è§£ã—ã¦ã„ã‚‹
- [ ] ASTæ“ä½œã‚’å®Ÿè£…ã§ãã‚‹
- [ ] ã‚³ãƒ¼ãƒ‰å¤‰æ›ã‚’å®Ÿè£…ã§ãã‚‹
- [ ] é™çš„è§£æãƒ„ãƒ¼ãƒ«ã‚’ä½œæˆã§ãã‚‹

#### è‡ªå‹•åŒ–ãƒ»åŠ¹ç‡åŒ– (20%)
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–ã‚’è‡ªå‹•åŒ–ã§ãã‚‹
- [ ] å“è³ªãƒã‚§ãƒƒã‚¯ã‚’è‡ªå‹•åŒ–ã§ãã‚‹
- [ ] é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’æ”¹å–„ã§ãã‚‹
- [ ] ç¶™ç¶šçš„ãªæ”¹å–„ã‚’å®Ÿè£…ã§ãã‚‹

### æˆæœç‰©ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] **ESLintè¨­å®š**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç”¨ã‚«ã‚¹ã‚¿ãƒ è¨­å®š
- [ ] **å‹å®šç¾©ç”Ÿæˆãƒ„ãƒ¼ãƒ«**: APIä»•æ§˜ã‹ã‚‰å‹ç”Ÿæˆ
- [ ] **ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚«ãƒ¼**: é™çš„è§£æãƒ„ãƒ¼ãƒ«
- [ ] **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè‡ªå‹•åŒ–ãƒ„ãƒ¼ãƒ«**: åˆæœŸåŒ–ãƒ»ç®¡ç†ãƒ„ãƒ¼ãƒ«

## ğŸ”„ Week 12 ã¸ã®æº–å‚™

### æ¬¡é€±å­¦ç¿’å†…å®¹ã®äºˆç¿’

```typescript
// Week 12ã§å­¦ç¿’ã™ã‚‹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªä½œæˆã®åŸºç¤æ¦‚å¿µ
// ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚“ã§ç†è§£ã—ã¦ãŠãã“ã¨

// 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçµ±åˆ
interface ProjectShowcase {
  title: string;
  description: string;
  technologies: string[];
  demoUrl?: string;
  sourceUrl: string;
}

// 2. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ
interface Documentation {
  overview: string;
  installation: string;
  usage: string;
  api: string;
}
```

---

**ğŸ“Œ é‡è¦**: Week 11ã¯TypeScriptã‚’ä½¿ã£ãŸé–‹ç™ºãƒ„ãƒ¼ãƒ«ä½œæˆã®åŸºç¤ã‚’å­¦ã¶é‡è¦ãªé€±ã§ã™ã€‚ã“ã‚Œã‚‰ã®ã‚¹ã‚­ãƒ«ã«ã‚ˆã‚Šã€é–‹ç™ºåŠ¹ç‡ã‚’å¤§å¹…ã«å‘ä¸Šã•ã›ã‚‹ãƒ„ãƒ¼ãƒ«ãŒä½œæˆã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

**ğŸŒŸ æ¬¡é€±ã¯ã€å­¦ç¿’ã®ç·ä»•ä¸Šã’ã¨ã—ã¦ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚’å®Œæˆã•ã›ã¾ã™ï¼**